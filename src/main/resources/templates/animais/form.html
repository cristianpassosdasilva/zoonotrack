<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{fragments/layout :: layout('Cadastro de Animal', ~{::section})}">
    <section>
        <h1 class="h3 mb-4" th:text="${animal.id == null ? 'Novo animal' : 'Edição do animal'}"></h1>

        <form th:action="@{/animais}" th:object="${animal}" method="post" class="row g-3">
            <input type="hidden" th:field="*{id}">

            <div class="col-md-6">
                <label class="form-label">Nome*</label>
                <input type="text" th:field="*{nome}" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label class="form-label">Espécie*</label>
                <select class="form-select" th:field="*{especie}" required>
                    <option value="">Selecione</option>
                    <option th:each="esp : ${especies}" th:value="${esp}" th:text="${esp}"></option>
                </select>
            </div>
            <div class="col-md-3">
                <label class="form-label">Nascimento</label>
                <input type="date" th:field="*{dataNascimento}" class="form-control">
            </div>
            <div class="col-md-6">
                <label class="form-label">Responsável (morador)*</label>
                <select class="form-select" th:field="*{morador}" required>
                    <option value="">Selecione</option>
                    <option th:each="m : ${moradores}" th:value="${m.id}" th:text="${m.nome}"></option>
                </select>
            </div>
            <div class="col-md-6 d-flex align-items-center gap-4">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" th:field="*{vacinado}" id="vacinado">
                    <label class="form-check-label" for="vacinado">Vacinado</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" th:field="*{castrado}" id="castrado">
                    <label class="form-check-label" for="castrado">Castrado</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" th:field="*{microchipado}" id="microchipado">
                    <label class="form-check-label" for="microchipado">Microchipado</label>
                </div>
            </div>
            <div class="col-12">
                <label class="form-label">Observações</label>
                <textarea class="form-control" th:field="*{observacoes}" rows="3"></textarea>
            </div>

            <div class="col-12 d-flex gap-2 mt-3">
                <button type="submit" class="btn btn-success">
                    <i class="bi bi-check2-circle me-1"></i>Salvar
                </button>
                <a th:href="@{/animais}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </section>
</th:block>
</html>
